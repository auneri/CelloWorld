language: c

compiler: gcc

dist: focal
sudo: required

addons:
  apt:
    packages:
      - gfortran
      - libboost-all-dev
      - libfftw3-dev
      - libinsighttoolkit4-dev
      - libopenmpi-dev
      - libvtk7-dev
      - openmpi-bin
      - python3-dev
      - qt5-default
      - swig

before_script:
  - cmake --version
  - cmake -S . -B ./build
    -DBUILD_HelloBoost=ON
    -DBUILD_HelloC=ON
    -DBUILD_HelloCUDA=OFF
    -DBUILD_HelloCXX=ON
    -DBUILD_HelloFortran=ON
    -DBUILD_HelloITK=ON
    -DBUILD_HelloMATLAB=OFF
    -DBUILD_HelloMPI=ON
    -DBUILD_HelloPythonC=ON
    -DBUILD_HelloPythonCXX=ON
    -DBUILD_HelloPythonSWIG=ON
    -DBUILD_HelloQt=OFF
    -DBUILD_HelloVTK=ON

script:
  - cmake --build ./build
  - cmake --build ./build --target test_verbose
